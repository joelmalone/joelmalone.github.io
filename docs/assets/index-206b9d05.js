import{S as C,a0 as d,H as L,V as i,D as x,a1 as N,b as O,Q as g,a2 as w,a3 as U,v as B,P as h,a4 as b}from"./index-1765cf1e.js";import"./ExtrasAsMetadata-6a2daf9d.js";function I(S){const e=new C(S);e.clearColor=new d(0,0,0);var f=new L("ambient light",new i(0,0,0),e);f.intensity=.25;const P=new x("sun light",new i(1,-1,-1),e);P.intensity=5;const c=new N("UniversalCamera",new i(0,0,0),e);c.maxZ=11e3;let s=null,l=null,o=null;O.ImportMeshAsync(null,"https://dl.dropboxusercontent.com/s/xtxf8eo2t3bb66b/Spaceship_BarbaraTheBee.gltf","",e).then(({meshes:n})=>{o=n[0],o.rotationQuaternion=g.Identity(),s=new w("chaseCameraPosition",e),s.parent=o,s.position=new i(0,4,-15),l=new w("chaseCameraLookAt",e),l.parent=o,l.position=new i(0,2,10)});const t=new U("starfield",1e4,e);t.createSphereEmitter(1e4,0),t.manualEmitCount=1e5,t.minLifeTime=Number.MAX_VALUE,t.maxLifeTime=Number.MAX_VALUE,t.minSize=.1*1e3,t.maxSize=.25*1e3,t.minEmitPower=0,t.maxEmitPower=0,t.gravity=new i(0,0,0),t.color1=new d(1,.8,.8,1),t.color2=new d(1,1,1,1),t.particleTexture=new B("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAADNJREFUOE9jZKAQMFKon2HUAAYah8H/////g2KJkZERZ2DjjQWKDSAmjYymA1qnA2JiAQB3SAgRq6BZyAAAAABJRU5ErkJggg==",e),t.start();let a=null;e.onPointerObservable.add(n=>{switch(n.type){case h.POINTERDOWN:a={down:n.event,last:n.event};break;case h.POINTERUP:a=null;break;case h.POINTERMOVE:a&&(a.last=n.event);break}});function E(){if(!a)return null;const r=.25*Math.min(e.getEngine().getRenderWidth(),e.getEngine().getRenderHeight()),m=a.last.clientX-a.down.clientX,u=a.down.clientY-a.last.clientY,T=b.Clamp(m/r,-1,1),v=b.Clamp(u/r,-1,1);return{thrust:1,yaw:T,pitch:v}}const R=10,p=1,y=.25,A=new i;return e.onBeforeRenderObservable.add(()=>{if(!o)return;const n=e.deltaTime/1e3,r=E();if(r){const u=g.RotationYawPitchRoll(r.yaw*n*p,r.pitch*n*p,0);o.rotationQuaternion.multiplyInPlace(u)}const m=r?o.forward.scale(r.thrust*R*n):i.Zero();A.addInPlace(m),A.scaleInPlace(1-y*n),o.position.addInPlace(A.scale(n))}),e.onBeforeRenderObservable.add(()=>{s&&(c.position=i.Lerp(c.position,s.getAbsolutePosition(),e.deltaTime/1e3*3),c.upVector=s.up),l&&(c.target=l.getAbsolutePosition())}),e}export{I as createScene};

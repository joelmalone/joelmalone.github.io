import{A as h,S as w,c as v,V as M,h as b,C as a}from"./runBabylonPlaygroundScene-32a4afbd.js";import{C as g}from"./cannonJSPlugin-f229288c.js";import{C as S}from"./workerPool-f37bc04e.js";import{M as m}from"./meshBuilder-ad173be8.js";import{A as C,E as y}from"./actionManager-ebe9c8f8.js";import{P as f}from"./pbrMetallicRoughnessMaterial-6fb281fd.js";import{P as u}from"./physicsImpostor-3dac248c.js";import"./physicsEngineComponent-f32049b7.js";import"./sceneHelpers-bf4caa22.js";import{C as x}from"./cannon-7c309029.js";import"./pbrMaterial-34e2fd30.js";import"./linesBuilder-a2dae4c1.js";import"./blurPostProcess-f61d1d3e.js";import"./dynamicTexture-7393bdcd.js";import"./utilityLayerRenderer-fefda23f.js";import"./sceneLoader-f06775c7.js";const A="/assets/environment-sunset-c2974e07.env",P="/assets/environment-night-3d44195a.env",R="/assets/environment-river-5d3cfdcc.env",T="/assets/environment-noon-9375f108.env";window.CANNON=x;function Z(t,o){t.enableOfflineSupport=!1,h.AllowMatricesInterpolation=!0;var e=new w(t);new v("Camera",75*Math.PI/180,75*Math.PI/180,20,new M(0,2.5,0),e).attachControl(o),e.enablePhysics(null,new g);const s=[A,P,R,T].map((i,c,d)=>{const l=new S(i,e),p=e.createDefaultSkybox(l,!0,1e4,.1);return B(l,p),I(p,c,d.length,r),{skybox:p,texture:l}});function r(i){for(var c=0;c<s.length;c++){const{skybox:l}=s[c];l.setEnabled(c===i)}const{texture:d}=s[i];e.environmentTexture=d}return r(0),E(e),N(e),e}function B(t,o){o.getScene().onBeforeRenderObservable.add(()=>{const e=Date.now()/1e3/4;o.rotation.set(0,e,0),t.setReflectionTextureMatrix(b.RotationY(-e))})}function I(t,o,e,n){{const s=t.getScene(),r=m.CreateSphere("cube-button",{diameter:.9},t.getScene());r.parent=s.cameras[0],r.position.set(-1.5+3*o/(e-1),3,10),r.material=t.material,r.renderingGroupId=1,r.actionManager=new C(s),r.actionManager.registerAction(new y(C.OnPickTrigger,()=>n(o))),s.onBeforeRenderObservable.add(()=>{const i=Date.now()/1e3/4;r.rotation.set(0,-i,0),r.scaling.setAll(t.isEnabled()?1.2:1)})}}function E(t){var o=new f("pedestalMaterial",t);o.metallic=0,o.roughness=.5;const e=m.CreateCylinder("cylinder",{diameter:15,faceColors:[new a(.01,.01,.01).toColor4(),new a(.01,.01,.01).toColor4(),new a(.01,.01,.01).toColor4()]},t);e.material=o,e.physicsImpostor=new u(e,u.CylinderImpostor,{mass:0,restitution:.2},t);const n=m.CreateCylinder("cylinder",{diameter:10,height:10,faceColors:[new a(0,0,0).toColor4(),new a(0,0,0).toColor4(),new a(0,0,0).toColor4()]},t);n.material=o,n.position.set(0,-5,0)}async function N(t){var o=new f("cubesMaterial",t);o.metallic=.1,o.roughness=.5;for(var e=0;e<100;e++)O(t,o),await k(10)}function O(t,o){const e=new a;a.HSVtoRGBToRef(Math.random()*360,.5,1,e);const n=m.CreateBox("cube",{size:1,faceColors:[e.toColor4(),e.toColor4(),e.toColor4(),e.toColor4(),e.toColor4(),e.toColor4()]},t);return n.material=o,n.position.set(Math.random()*5-2.5,25+Math.random()*25,Math.random()*5-2.5),n.physicsImpostor=new u(n,u.BoxImpostor,{mass:1,restitution:.5},t),n}function k(t){return new Promise(o=>setTimeout(o,t))}export{Z as createScene};
